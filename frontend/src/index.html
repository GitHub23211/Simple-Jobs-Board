<!--Joshua Santos
    45203083
    Index.html
    .html file that serves as the basis for the website.
    Credit to Steve Cassidy for the <header> and <footer> code of the body.
    Borrowed and modified from the html code given from Assignment 1.
-->

<!DOCTYPE html>
<html>
    <head>
        <title>Bob's Jobs</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <link rel="stylesheet" type="text/css" href="style.css">   
        
        <!-- Include Handlebars from a CDN -->
        <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

        <script src="main.js" type=module defer></script>
    </head>

    <body>
        <header class="page-header">
            <a href="/#" class="logo">Bob's Jobs</a>
            <div class="page-header-main ">
                <nav class="main-nav">
                    <div class="main-menu">
                        <div id="home-link"><a href="/#">Home</a></div>
                        <div id="help-link"><a href="/#!/help">Applicant Help</a></div>
                        <div id="about-link"><a href="/#!/about">About Us</a></div>
                    </div>
                </nav>
                                            
                <div class="header-search">
                    <form id="search-form">  
                        <label for="search" id="search-label"> Search Jobs </label>
                        <input type='text' id="search" placeholder="Enter keywords..." value="">
                        <input type='submit' id="searchbutton" value="Search">
                    </form>
                </div>
    
                <div id="header-auth">
                </div>
            </div>
        </header>

        <div id='main'></div>
        </div>

        <footer id="footer">
            <p id="copyright">Copyright &copy; COMP2110 Web Designers, 2022.</p>
            <p id="attribution">Bob's Jobs is a service of Bob Bobalooba Enterprises.</p>
        </footer>

    <!-- Handlebars templates -->

        <script id="error-page-template" type="text/x-handlebars-template">
            <div class="error-page">
                <h1>Page not Found</h1>
                Sorry, we couldn't find the page you were looking for. This is because:
                <ul>
                    <li>There is an error in your URL. Please double check the URL and try again</li>
                    <li>The page has been moved or deleted</li>
                </ul>
                <b>Try returning to the home page, or search for other content using the search bar.</b>
            </div>
        </script>

        <script id="about-us-template" type="text/x-handlebars-template">
            <div id="about-us">
                <h1>Bob's Jobs is a revolution in career planning brought to you by Bob Bobalooba himself!</h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi condimentum ante eu dolor placerat, sed efficitur 
                    ante elementum. Nulla facilisi. Aliquam semper ligula mi, quis vulputate turpis rutrum quis. Duis gravida eget lacus 
                    eget tincidunt. Duis ut erat consectetur, porttitor libero eget, suscipit massa. Donec consequat felis quam, et gravida 
                    turpis rutrum a. Pellentesque nec mauris sapien. Sed convallis nisi mauris, sit amet placerat nisi viverra volutpat. 
                    Integer dignissim eget justo at aliquam.
                </p>
                <p>
                    Vestibulum vitae mauris tempus, finibus nulla sed, congue leo. Vestibulum semper elementum elit. Aliquam massa massa, 
                    hendrerit nec rhoncus suscipit, lobortis nec felis. Quisque cursus ex nec facilisis vehicula. Nullam sed faucibus sapien, 
                    ut faucibus nunc. Aenean nec vestibulum diam. Nunc justo erat, tincidunt vestibulum tincidunt pretium, consequat nec purus. 
                    Proin congue mi eu dolor ullamcorper, vitae venenatis nisi porttitor. Nullam consequat, augue id vulputate bibendum, magna eros 
                    fringilla odio, ornare vehicula massa libero vel nibh. Nulla facilisi. Mauris viverra lectus enim, sit amet eleifend leo gravida in. 
                    Vivamus aliquam velit et sapien pretium vestibulum.
                </p>
            </div>
        </script>

        <script id="help-template" type="text/x-handlebars-template">
            <div id="help">
                <h1>Be sure to he honest in your application!</h1>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec sit amet tincidunt lacus. 
                    Pellentesque at tincidunt augue, ac sodales magna. Vestibulum odio urna, euismod vel faucibus suscipit, 
                    lobortis quis risus. Nulla ac magna at metus tempus ultrices vel ac massa. Donec at ante turpis. 
                    Maecenas posuere mauris et turpis efficitur venenatis et quis tellus. Quisque elementum sem nulla, 
                    in ullamcorper arcu egestas ut. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. 
                    Nulla volutpat malesuada nisl, elementum ullamcorper turpis sollicitudin vel. Nam ultrices sit amet metus vitae tincidunt. 
                    Nunc ultrices elit at erat luctus commodo. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. 
                    Vivamus ac ligula non nisi sollicitudin consequat. Ut feugiat metus sapien, 
                    eu maximus erat eleifend convallis. Nullam facilisis maximus nisl, blandit feugiat mi rhoncus quis. 
                    Donec ac nunc consectetur, suscipit ex et, egestas odio.
                </p>
                <p>
                    Phasellus eu ex sed quam mattis aliquet. Integer ac dolor fermentum, consectetur dolor sed, 
                    facilisis ante. Curabitur tempor et nulla et finibus. Nunc eget tincidunt elit. Aliquam feugiat tellus a facilisis suscipit.
                    Nulla consequat quis ante vel porta. Nam gravida pretium eros, et convallis nibh molestie sit amet. 
                    Nulla maximus ante et dui commodo, ut consectetur dolor maximus. Suspendisse ut faucibus felis, egestas auctor dui. 
                    ulla quam justo, tempor at justo a, aliquam pulvinar sapien. Aliquam sodales tortor quis dui sodales, vehicula vulputate ipsum convallis.
                </p>
            </div>
        </script>

        <script id="home-template" type="text/x-handlebars-template">
            <div class='joblist'>
                {{#each job}}
                    <div class='job'>
                        <div id='title'><a href='/#!/jobs/{{id}}' class="job-title"> {{attributes.title}} </a></div>
                        <div id='location'> Location: {{attributes.location}} </div>
                        <div id='type'> Type: {{attributes.type}} </div>
                        <div id="view-job"><a href='/#!/jobs/{{id}}'>View Job</a></div>
                    </div>
                {{/each}}
            </div>
        </script>

        <script id="job-template" type="text/x-handlebars-template">
            <div class='job-detailed'>
                <div id='jobtitle'> {{job.attributes.title}} </div>
                <div id='location'> Location: {{job.attributes.location}} </div>
                <div id='type'> Type: {{job.attributes.type}} </div>
                <div id='company'>Company: <a href='/#!/companies/{{job.attributes.company.data.id}}'>{{job.attributes.company.data.attributes.name}} </a></div>
                {{#if user}}
                    <div id="apply-job">
                        <button id="apply-button">Apply for this Job</button>
                    </div>
                {{/if}}
                <div class='job-description'>{{{job.attributes.description}}}</div> 
            </div>
        </script>

        <script id="company-template" type="text/x-handlebars-template">
            <div class='company-description'>
                <div class='company-name'> {{data.attributes.name}} </div>
                {{#if data.attributes.logo}}
                <div class='company-logo'> <img src='{{data.attributes.logo}}' alt="{{data.attributes.name}}'s logo"> </div>
                {{/if}}
                {{#if data.attributes.url}}
                <div class='company-url'><a href='{{data.attributes.url}}'> {{data.attributes.url}} </a></div>
                {{/if}}
            </div>
            <div class='joblist'>
                {{#each job}}
                <div class='job'>
                    <div id='title'><a href='/#!/jobs/{{id}}' class="job-title"> {{attributes.title}} </a></div>
                    <div id='location'> Location: {{attributes.location}} </div>
                    <div id='type'> Type: {{attributes.type}} </div>
                    <div id="view-job"><a href='/#!/jobs/{{id}}'>View Job</a></div>
                </div>
                {{/each}}
            </div>
        </script>

        <script id="search-template" type="text/x-handlebars-template">
            {{#if job}}
                <div class="search-header">
                    <h1>"{{searchTerm}}" brought up {{numResults}} results</h1> 
                </div>
                <div class='joblist'>
                    {{#each job}}
                        <div class='job'>
                            <div id='title'><a href='/#!/jobs/{{id}}' class="job-title"> {{attributes.title}} </a></div>
                            <div id='location'> Location: {{attributes.location}} </div>
                            <div id='type'> Type: {{attributes.type}} </div>
                            <div id="view-job"><a href='/#!/jobs/{{id}}'>View Job</a></div>
                        </div>
                    {{/each}}
                </div>
            {{else}} 
            <div class="search-header">
                <h1>We couldn't find anything related to "{{searchTerm}}"</h1> 
                <p>Try:</p>
                <ul>
                    <li>Checking for spelling errors</li>
                </ul>
            </div>
            {{/if}}
        </script>

        <script id="login-template" type="text/x-handlebars-template">
            {{#if user}}
                <div id="logged-in">
                    Logged in as {{user.username}}
                    <button id="logoutbutton">Logout</button>
                </div>
            {{else}}
                <form id="login-form">
                    <label for="username" id="login-label"> Sign In </label>
                    <input type="text" id="username" name="username" Placeholder="Username..." value="">
                    <input type="password" id="password" name="password" placeholder ="Password..." value="">
                    <input type="submit" id="loginbutton" value="Login">
                    or 
                    <a href="/#!/register">Register</a>
                </form> 
            {{/if}}
        </script>

        <script id="register-template" type="text/x-handlebars-template">
            <div id="register-page">
                <h1>Register an Account </h1>
                <div class="register">
                    {{#if error}}
                        <div class="errors">
                            {{#each error}}
                                <div id="message">{{message}}</div>
                            {{/each}}
                        </div>
                    {{/if}}
                    <form id="register-form">
                        <label for="username-register" id="username-label"> Username </label>
                        <input type="text" id="username-register" name="username" Placeholder="Username..." value="">
                        <label for="password-register" id="password-label"> Password </label>
                        <input type="password" id="password-register" name="password" placeholder ="Password..." value="">
                        <label for="email" id="email-label"> Email </label>
                        <input type="text" id="email" name="email" placeholder ="Email Address..." value="">
                        <input type="submit" id="register-button" value="Register Account">
                    </form> 
                </div>
            </div>
        </script>

        <script id="jobapp-template" type="text/x-handlebars-template">
            <form id="jobapp-form">
                <label for="text" id="jobapp-label">Application Details</label>
                <textarea id="text" name="text" required cols="100" placeholder="Write down why you want this job..." rows="20" value=""></textarea>
                <input type="submit" id="submitapp-button" value="Submit Application">
            </form> 
        </script>
    </body>

    <script id="invalid-login-template" type="text/x-handlebars-template">
        <div id="invalid-login">
            Invalid Username or Password
        </div>
    </script>

    <script id="applied-jobs-template" type="text/x-handlebars-template">
        <div id="applied-jobs">
            <div id="applied-jobs-title">Hello {{user}}, these are the jobs you've applied for:</div> 
            <div class='joblist'>
                {{#each job}}
                    <div class='job'>
                        <div id='title'><a href='/#!/jobs/{{attributes.job.data.id}}' class="job-title" data-id="{{id}}"> {{attributes.job.data.attributes.title}} </a></div>
                        <div id='location'> Location: {{attributes.job.data.attributes.location}} </div>
                        <div id='type'> Type: {{attributes.job.data.attributes.type}} </div>
                        <div id="view-job"><a href='/#!/jobs/{{attributes.job.data.id}}'>View Job</a></div>
                    </div>
                {{/each}}
            </div>
        </div>
    </script>
</html>